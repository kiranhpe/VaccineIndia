(this["webpackJsonpvaccine-india"]=this["webpackJsonpvaccine-india"]||[]).push([[0],{21:function(t,e,c){},22:function(t,e,c){},23:function(t,e,c){},25:function(t,e,c){},29:function(t,e,c){},30:function(t,e,c){},31:function(t,e,c){},32:function(t,e,c){},43:function(t,e,c){},45:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),i=c(7),s=c.n(i),o=(c(21),c(22),c(23),c(1));function r(t){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"toolbar",children:t.children})})}c(25);function l(t){return Object(o.jsx)("div",{className:"container",children:t.children})}var d=c(6),j=c(3);function u(t){return fetch(t).then((function(t){return t.json()}))}function b(){var t=new Date,e=t.getDate(),c=t.getMonth()+1,n=t.getFullYear();return e<10&&(e="0"+e),c<10&&(c="0"+c),t=n+"-"+c+"-"+e}c(29);function h(t){return Object(o.jsx)("div",{className:"card",children:t.children})}c(30);function v(){return Object(o.jsxs)("div",{className:"slider",children:[Object(o.jsx)("div",{className:"line"}),Object(o.jsx)("div",{className:"subline inc"}),Object(o.jsx)("div",{className:"subline dec"})]})}c(31);function O(t){var e=a.a.useState({sites:{total:0},registration:{total:0,today:0},vaccination:{total:0,today:0}}),c=Object(d.a)(e,2),i=c[0],s=c[1],r=Object(j.b)(),l=Object(j.c)((function(t){return t.states})),O=Object(j.c)((function(t){return t.districts}));return Object(n.useEffect)((function(){!function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(),c="";l?(c="".concat("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id="+l.value,"&district_id=").concat(t,"&date=").concat(e),O&&(c="".concat("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id="+l.value,"&district_id=").concat(O.value,"&date=").concat(e))):c="".concat("https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id=","&district_id=").concat(t,"&date=").concat(e);u(c).then((function(t){s({sites:{total:t.topBlock.sites.total},registration:{total:t.topBlock.registration.total,today:t.topBlock.registration.today},vaccination:{total:t.topBlock.vaccination.total,today:t.topBlock.vaccination.today}}),r({type:"HIDE"})}))}()}),[r,l,O]),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)(h,{children:[Object(o.jsx)("div",{className:0===i.sites.total?"progress":"no-display",children:Object(o.jsx)(v,{})}),Object(o.jsxs)("div",{className:"stat-count",children:[Object(o.jsx)("i",{className:"fa fa-map fa-2x"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h4",{children:"Vaccine Centers"}),Object(o.jsxs)("h5",{children:["Total:"," ",i.sites.total>0?i.sites.total.toLocaleString("en-IN"):""]})]})]})]}),Object(o.jsxs)(h,{children:[Object(o.jsx)("div",{className:0===i.registration.total?"progress":"no-display",children:Object(o.jsx)(v,{})}),Object(o.jsxs)("div",{className:"stat-count",children:[Object(o.jsx)("i",{className:"fa fa-users fa-2x"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h4",{children:"Registered Users"}),Object(o.jsxs)("h5",{children:["Total:"," ",i.registration.total>0?i.registration.total.toLocaleString("en-IN"):""]}),Object(o.jsxs)("b",{className:"delta",children:["Today:"," ",i.registration.today>0?i.registration.today.toLocaleString("en-IN"):""]})]})]})]}),Object(o.jsxs)(h,{children:[Object(o.jsx)("div",{className:0===i.vaccination.total?"progress":"no-display",children:Object(o.jsx)(v,{})}),Object(o.jsxs)("div",{className:"stat-count",children:[Object(o.jsx)("i",{className:"fa fa-medkit fa-2x"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h4",{children:"Vaccines"}),Object(o.jsxs)("h5",{children:["Total:"," ",i.vaccination.total>0?i.vaccination.total.toLocaleString("en-IN"):""]}),Object(o.jsxs)("b",{className:"delta",children:["Today:"," ",i.vaccination.today>0?i.vaccination.today.toLocaleString("en-IN"):""]})]})]})]})]})}var f=function(t){return{type:"DISTRICT_CHANGE",payload:t.district}},p=function(t){return{type:"STATE_CHANGE",payload:t.state}},g=c(16);c(32);function x(t){var e=a.a.useState(0),c=Object(d.a)(e,2),n=c[0],i=c[1];return Object(o.jsx)("div",{className:"select",children:Object(o.jsx)(g.a,{value:n,onChange:function(e){i(e),t.onStateChange(e)},options:t.data,placeholder:"Select "+t.placeholder,isLoading:t.isLoading})})}c(43);function N(t){var e=a.a.useState({states:{}}),c=Object(d.a)(e,2),i=c[0],s=c[1],r=a.a.useState({districts:{}}),l=Object(d.a)(r,2),b=l[0],h=l[1],v=a.a.useState(!0),O=Object(d.a)(v,2),g=O[0],N=O[1],m=a.a.useState(!1),y=Object(d.a)(m,2),S=y[0],_=y[1],E=Object(j.c)((function(t){return t.states})),T=(Object(j.c)((function(t){return t.districts})),Object(j.b)());return Object(n.useEffect)((function(){u("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(t){var e=t.states.map((function(t){return{value:t.state_id,label:t.state_name}}));s({states:e}),N(!1),_(!0)}))}),[]),Object(n.useEffect)((function(){var t;(t=E)&&u("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+t.value.toString()).then((function(t){var e=t.districts.map((function(t){return{value:t.district_id,label:t.district_name}}));h({districts:e}),_(!1)}))}),[E]),Object(o.jsxs)("div",{className:"row-right",children:[Object(o.jsx)(x,{placeholder:"State",data:i.states,onStateChange:function(t){T(p({state:t})),_(!0)},isLoading:g}),Object(o.jsx)(x,{placeholder:"District",data:b.districts,onStateChange:function(t){T(f({district:t}))},isLoading:S})]})}function m(){var t=Object(j.c)((function(t){return t.progressBar}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(r,{children:Object(o.jsx)("div",{className:"brand",children:Object(o.jsx)("p",{className:"brand-name",children:"Vaccine INDIA"})})}),t?Object(o.jsx)(v,{}):"",Object(o.jsxs)(l,{children:[Object(o.jsx)(N,{}),Object(o.jsx)(O,{}),Object(o.jsx)("div",{className:"palce-holder",children:Object(o.jsx)("h4",{children:"Work In Progress..... (Beta)"})})]})]})}var y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),i(t),s(t)}))},S=(c(44),c(9)),_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DISTRICT_CHANGE":return e.payload;default:return t}},E=function(){var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HIDE":return!1;default:return!0}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"STATE_CHANGE":return e.payload;default:return t}},I=Object(S.a)({progressBar:E,states:T,districts:_}),w=Object(S.b)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(Object(o.jsx)(j.a,{store:w,children:Object(o.jsx)(m,{})}),document.getElementById("root")),y()}},[[45,1,2]]]);
//# sourceMappingURL=main.ee76fdff.chunk.js.map